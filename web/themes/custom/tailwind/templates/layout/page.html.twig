<div class="layout-container min-h-screen flex flex-col" x-data="{ darkMode: false, menuOpen: false }" :class="{ 'bg-gray-900 text-white': darkMode, 'bg-white text-gray-900': !darkMode }">

  <!-- Header -->
  <header role="banner" class="bg-blue-600 shadow-md" :class="{ 'bg-blue-800': darkMode }">
    <div class="p-4 flex justify-between items-center">
      <div class="navbar bg-base-100">
        {{ page.header }}
      </div>
      <!-- Dark Mode Toggle -->
      <button
        @click="darkMode = !darkMode"
        class="p-2 rounded bg-gray-200 text-gray-800 hover:bg-gray-300"
        :class="{ 'bg-gray-800 text-gray-200 hover:bg-gray-700': darkMode }">
        <span x-text="darkMode ? 'Light Mode' : 'Dark Mode'"></span>
      </button>
    </div>
  </header>

  <!-- Navigation Menus -->
  {% if page.primary_menu or page.secondary_menu %}
    <nav class="bg-blue-500" :class="{ 'bg-blue-700': darkMode }">
      <div class="container mx-auto flex justify-between items-center p-4">
        <button @click="menuOpen = !menuOpen" class="lg:hidden p-2 rounded bg-gray-200 text-gray-800 hover:bg-gray-300" :class="{ 'bg-gray-800 text-gray-200 hover:bg-gray-700': darkMode }">
          Menu
        </button>
        <div class="lg:flex lg:items-center lg:space-x-6" :class="{ 'hidden': !menuOpen, 'block': menuOpen }">
          {% if page.primary_menu %}
            <div x-data="{ lolo: 'helo is me' }">
              <span x-text="lolo"></span>
              {{ page.primary_menu }}
              <marquee>marque test</marquee>
            </div>
          {% endif %}
          {% if page.secondary_menu %}
            <div>
              {{ page.secondary_menu }}
            </div>
          {% endif %}
        </div>
      </div>
    </nav>
  {% endif %}

  <!-- Breadcrumb -->
  {% if page.breadcrumb %}
    <div class="bg-gray-100 border-b border-gray-200" :class="{ 'bg-gray-800 text-gray-400': darkMode }">
      <div class="container mx-auto p-4 text-sm">
        {{ page.breadcrumb }}
      </div>
    </div>
  {% endif %}

  {% if page.banner_top %}
    <div class="bg-gray-100 border-b border-gray-200" :class="{ 'bg-gray-800 text-gray-400': darkMode }">
      <div class="container mx-auto p-4 text-sm">
        {{ page.banner_top }}
      </div>
    </div>
  {% endif %}


  <!-- Help Section -->
  {% if page.help %}
    <div class="bg-green-100 text-green-800 shadow-sm" :class="{ 'bg-green-900 text-green-200': darkMode }">
      <div class="container mx-auto p-4">
        {{ page.help }}
      </div>
    </div>
  {% endif %}

  <!-- Main Content -->
  <main role="main" class="flex-grow py-6">
    <div class="container mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6">

      <!-- Main Content Area -->
      <div class="layout-content lg:col-span-2">
        {{ page.content }}

        {{ page.content_bottom }}
      </div>

    </div>
  </main>

  {% if page.banner_bottom %}
    <div class="bg-gray-100 border-b border-gray-200" :class="{ 'bg-gray-800 text-gray-400': darkMode }">
      <div class="container mx-auto p-4 text-sm">
        {{ page.banner_bottom }}
      </div>
    </div>
  {% endif %}

  <!-- Footer -->
  {% if page.footer %}
    <footer role="contentinfo" class="bg-gray-800 text-white" :class="{ 'bg-gray-900 text-gray-400': darkMode }">
      <div class="container mx-auto p-4 text-center">
        {{ page.footer }}
      </div>
    </footer>
  {% endif %}

</div>
